<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Giao d·ªãch c·ªßa t√¥i - EV Owner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }
        .card-shadow {
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
        }
        .fade-in {
            animation: fadeIn 0.3s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .stats-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            position: relative;
            overflow: hidden;
        }
        .stats-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: rotate(45deg);
        }
        .filter-active {
            background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
            color: white;
        }
    </style>
</head>
<body class="bg-gray-50 min-h-full">
    <!-- Header -->
    <header class="bg-white shadow-sm border-b">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center py-4">
                <div class="flex items-center">
                    <div class="w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-3">
                        <span class="text-white font-bold text-lg">üìä</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold text-gray-800">L·ªãch s·ª≠ giao d·ªãch</h1>
                        <p class="text-sm text-gray-600">Theo d√µi t·∫•t c·∫£ giao d·ªãch t√≠n ch·ªâ carbon</p>
                    </div>
                </div>
                <div class="flex items-center">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='32' height='32' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='16' fill='%23667EEA'/%3E%3Ctext x='16' y='20' text-anchor='middle' fill='white' font-size='14' font-weight='bold'%3EE%3C/text%3E%3C/svg%3E" alt="Avatar" class="w-8 h-8 rounded-full mr-2">
                    <span class="text-gray-700 font-medium">EV Owner</span>
                </div>
            </div>
        </div>
    </header>

    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <!-- Summary Stats -->
        <div class="grid md:grid-cols-4 gap-6 mb-8">
            <div class="stats-card text-white p-6 rounded-xl card-shadow relative">
                <div class="relative z-10">
                    <div class="flex items-center justify-between mb-2">
                        <span class="text-3xl">üí∞</span>
                        <span class="text-sm opacity-75">Th√°ng n√†y</span>
                    </div>
                    <p class="text-2xl font-bold mb-1" id="total-revenue">$8,547.30</p>
                    <p class="text-sm opacity-90">T·ªïng doanh thu</p>
                </div>
            </div>

            <div class="bg-white p-6 rounded-xl card-shadow">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-3xl">üìà</span>
                    <span class="text-sm text-green-600 bg-green-100 px-2 py-1 rounded-full">+15.2%</span>
                </div>
                <p class="text-2xl font-bold text-gray-800 mb-1" id="total-sold">156.8</p>
                <p class="text-sm text-gray-600">T√≠n ch·ªâ ƒë√£ b√°n</p>
            </div>

            <div class="bg-white p-6 rounded-xl card-shadow">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-3xl">üõí</span>
                    <span class="text-sm text-blue-600 bg-blue-100 px-2 py-1 rounded-full">+8.7%</span>
                </div>
                <p class="text-2xl font-bold text-gray-800 mb-1" id="total-bought">89.5</p>
                <p class="text-sm text-gray-600">T√≠n ch·ªâ ƒë√£ mua</p>
            </div>

            <div class="bg-white p-6 rounded-xl card-shadow">
                <div class="flex items-center justify-between mb-2">
                    <span class="text-3xl">üìã</span>
                    <span class="text-sm text-gray-600">T·ªïng c·ªông</span>
                </div>
                <p class="text-2xl font-bold text-gray-800 mb-1" id="total-transactions">47</p>
                <p class="text-sm text-gray-600">Giao d·ªãch</p>
            </div>
        </div>

        <!-- Filters -->
        <div class="bg-white p-6 rounded-xl card-shadow mb-8">
            <h3 class="text-lg font-semibold text-gray-800 mb-4">üîç B·ªô l·ªçc giao d·ªãch</h3>
            
            <div class="grid md:grid-cols-4 gap-4">
                <!-- Date Range -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Kho·∫£ng th·ªùi gian</label>
                    <select onchange="filterTransactions()" id="date-filter" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="all">T·∫•t c·∫£</option>
                        <option value="today">H√¥m nay</option>
                        <option value="week">7 ng√†y qua</option>
                        <option value="month" selected>30 ng√†y qua</option>
                        <option value="quarter">3 th√°ng qua</option>
                        <option value="year">1 nƒÉm qua</option>
                    </select>
                </div>

                <!-- Transaction Type -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Lo·∫°i giao d·ªãch</label>
                    <select onchange="filterTransactions()" id="type-filter" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="all">T·∫•t c·∫£</option>
                        <option value="sell">B√°n</option>
                        <option value="buy">Mua</option>
                        <option value="withdraw">R√∫t ti·ªÅn</option>
                        <option value="deposit">N·∫°p ti·ªÅn</option>
                    </select>
                </div>

                <!-- Status -->
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">Tr·∫°ng th√°i</label>
                    <select onchange="filterTransactions()" id="status-filter" class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500">
                        <option value="all">T·∫•t c·∫£</option>
                        <option value="success">Th√†nh c√¥ng</option>
                        <option value="pending">ƒêang x·ª≠ l√Ω</option>
                        <option value="cancelled">ƒê√£ h·ªßy</option>
                        <option value="failed">Th·∫•t b·∫°i</option>
                    </select>
                </div>

                <!-- Actions -->
                <div class="flex items-end">
                    <div class="flex gap-2 w-full">
                        <button onclick="resetFilters()" class="flex-1 bg-gray-200 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors text-sm">
                            üîÑ ƒê·∫∑t l·∫°i
                        </button>
                        <button onclick="exportData()" class="flex-1 bg-purple-500 text-white py-2 px-4 rounded-lg hover:bg-purple-600 transition-colors text-sm">
                            üìä Xu·∫•t Excel
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Transactions Table -->
        <div class="bg-white rounded-xl card-shadow overflow-hidden">
            <div class="p-6 border-b bg-purple-50">
                <div class="flex justify-between items-center">
                    <h3 class="text-lg font-semibold text-gray-800">üìã Chi ti·∫øt giao d·ªãch</h3>
                    <div class="flex items-center gap-4">
                        <span class="text-sm text-gray-600" id="results-count">Hi·ªÉn th·ªã 15 giao d·ªãch</span>
                        <div class="flex gap-2">
                            <button onclick="toggleView('table')" id="table-view" class="px-3 py-1 bg-purple-500 text-white rounded-lg text-sm">
                                üìä B·∫£ng
                            </button>
                            <button onclick="toggleView('chart')" id="chart-view" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100">
                                üìà Bi·ªÉu ƒë·ªì
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="overflow-x-auto" id="table-container">
                <table class="w-full">
                    <thead class="bg-purple-50">
                        <tr>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">M√£ giao d·ªãch</th>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">Ng√†y</th>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">S·ªë l∆∞·ª£ng</th>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">Gi√°</th>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">Lo·∫°i</th>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">Tr·∫°ng th√°i</th>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">T·ªïng gi√° tr·ªã</th>
                            <th class="text-left py-3 px-6 text-sm font-medium text-gray-600">Chi ti·∫øt</th>
                        </tr>
                    </thead>
                    <tbody class="divide-y divide-gray-100" id="transactions-table">
                        <!-- Transactions will be populated by JavaScript -->
                    </tbody>
                </table>
            </div>

            <!-- Chart Container (hidden by default) -->
            <div id="chart-container" class="hidden p-6">
                <div class="bg-gray-100 rounded-lg p-8 text-center">
                    <span class="text-4xl mb-4 block">üìà</span>
                    <h3 class="text-lg font-semibold text-gray-700 mb-2">Bi·ªÉu ƒë·ªì giao d·ªãch</h3>
                    <p class="text-gray-600">T√≠nh nƒÉng bi·ªÉu ƒë·ªì s·∫Ω ƒë∆∞·ª£c tri·ªÉn khai trong phi√™n b·∫£n ti·∫øp theo</p>
                </div>
            </div>

            <!-- Pagination -->
            <div class="p-6 border-t bg-purple-50">
                <div class="flex justify-between items-center">
                    <p class="text-sm text-gray-600" id="pagination-info">Hi·ªÉn th·ªã 1-15 trong 47 giao d·ªãch</p>
                    <div class="flex gap-2">
                        <button onclick="changePage(-1)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100 transition-colors">Tr∆∞·ªõc</button>
                        <button class="px-3 py-1 bg-purple-500 text-white rounded-lg text-sm">1</button>
                        <button onclick="changePage(2)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100 transition-colors">2</button>
                        <button onclick="changePage(3)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100 transition-colors">3</button>
                        <button onclick="changePage(1)" class="px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100 transition-colors">Sau</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Sample transaction data
        const allTransactions = [
            {
                id: 'TXN-789123',
                date: '2024-12-18 14:30',
                amount: 25.3,
                price: 22.30,
                type: 'sell',
                status: 'success',
                description: 'B√°n t√≠n ch·ªâ carbon #LST-001234'
            },
            {
                id: 'TXN-789122',
                date: '2024-12-17 16:45',
                amount: 15.0,
                price: 24.80,
                type: 'sell',
                status: 'success',
                description: 'ƒê·∫•u gi√° th√†nh c√¥ng #LST-001233'
            },
            {
                id: 'TXN-789121',
                date: '2024-12-17 09:15',
                amount: 18.7,
                price: 29.00,
                type: 'sell',
                status: 'success',
                description: 'B√°n t√≠n ch·ªâ carbon #LST-001232'
            },
            {
                id: 'TXN-789120',
                date: '2024-12-16 11:20',
                amount: 50.0,
                price: 23.50,
                type: 'buy',
                status: 'success',
                description: 'Mua t√≠n ch·ªâ t·ª´ Green Energy Co.'
            },
            {
                id: 'TXN-789119',
                date: '2024-12-16 08:30',
                amount: 15.0,
                price: 0,
                type: 'withdraw',
                status: 'pending',
                description: 'R√∫t 15 t√≠n ch·ªâ v·ªÅ v√≠'
            },
            {
                id: 'TXN-789118',
                date: '2024-12-15 15:10',
                amount: 32.1,
                price: 27.05,
                type: 'sell',
                status: 'success',
                description: 'B√°n t√≠n ch·ªâ carbon #LST-001230'
            },
            {
                id: 'TXN-789117',
                date: '2024-12-15 13:45',
                amount: 12.8,
                price: 23.20,
                type: 'sell',
                status: 'success',
                description: 'ƒê·∫•u gi√° th√†nh c√¥ng #LST-001229'
            },
            {
                id: 'TXN-789116',
                date: '2024-12-14 10:30',
                amount: 8.5,
                price: 25.00,
                type: 'sell',
                status: 'cancelled',
                description: 'H·ªßy ni√™m y·∫øt #LST-001228'
            },
            {
                id: 'TXN-789115',
                date: '2024-12-13 16:20',
                amount: 30.0,
                price: 22.80,
                type: 'buy',
                status: 'success',
                description: 'Mua t√≠n ch·ªâ t·ª´ Solar Farm Ltd.'
            },
            {
                id: 'TXN-789114',
                date: '2024-12-12 14:15',
                amount: 19.8,
                price: 29.00,
                type: 'sell',
                status: 'success',
                description: 'B√°n t√≠n ch·ªâ carbon #LST-001227'
            },
            {
                id: 'TXN-789113',
                date: '2024-12-11 09:45',
                amount: 25.0,
                price: 0,
                type: 'deposit',
                status: 'success',
                description: 'N·∫°p 25 t√≠n ch·ªâ t·ª´ h√†nh tr√¨nh xe ƒëi·ªán'
            },
            {
                id: 'TXN-789112',
                date: '2024-12-10 11:30',
                amount: 22.5,
                price: 26.50,
                type: 'sell',
                status: 'success',
                description: 'B√°n t√≠n ch·ªâ carbon #LST-001226'
            },
            {
                id: 'TXN-789111',
                date: '2024-12-09 15:20',
                amount: 10.0,
                price: 24.00,
                type: 'buy',
                status: 'failed',
                description: 'Mua t√≠n ch·ªâ th·∫•t b·∫°i - Kh√¥ng ƒë·ªß s·ªë d∆∞'
            },
            {
                id: 'TXN-789110',
                date: '2024-12-08 13:10',
                amount: 35.7,
                price: 28.30,
                type: 'sell',
                status: 'success',
                description: 'B√°n t√≠n ch·ªâ carbon #LST-001225'
            },
            {
                id: 'TXN-789109',
                date: '2024-12-07 16:45',
                amount: 20.0,
                price: 0,
                type: 'deposit',
                status: 'success',
                description: 'N·∫°p 20 t√≠n ch·ªâ t·ª´ h√†nh tr√¨nh xe ƒëi·ªán'
            }
        ];

        let filteredTransactions = [...allTransactions];
        let currentPage = 1;
        const itemsPerPage = 15;

        // Initialize page
        function initializePage() {
            renderTransactions();
            updateStats();
        }

        // Render transactions table
        function renderTransactions() {
            const tbody = document.getElementById('transactions-table');
            const startIndex = (currentPage - 1) * itemsPerPage;
            const endIndex = startIndex + itemsPerPage;
            const pageTransactions = filteredTransactions.slice(startIndex, endIndex);

            tbody.innerHTML = '';

            pageTransactions.forEach(transaction => {
                const row = document.createElement('tr');
                row.className = 'hover:bg-gray-50';

                const typeInfo = getTypeInfo(transaction.type);
                const statusInfo = getStatusInfo(transaction.status);
                const totalValue = transaction.price > 0 ? (transaction.amount * transaction.price).toFixed(2) : '-';

                row.innerHTML = `
                    <td class="py-4 px-6 text-sm font-mono text-purple-600">${transaction.id}</td>
                    <td class="py-4 px-6 text-sm text-gray-800">${formatDate(transaction.date)}</td>
                    <td class="py-4 px-6 text-sm font-medium ${transaction.type === 'sell' || transaction.type === 'withdraw' ? 'text-red-600' : 'text-green-600'}">
                        ${transaction.type === 'sell' || transaction.type === 'withdraw' ? '-' : '+'}${transaction.amount}
                    </td>
                    <td class="py-4 px-6 text-sm text-gray-800">${transaction.price > 0 ? '$' + transaction.price.toFixed(2) : '-'}</td>
                    <td class="py-4 px-6">
                        <span class="inline-flex items-center px-2 py-1 ${typeInfo.bgColor} ${typeInfo.textColor} text-xs rounded-full">
                            ${typeInfo.icon} ${typeInfo.label}
                        </span>
                    </td>
                    <td class="py-4 px-6">
                        <span class="inline-flex items-center px-2 py-1 ${statusInfo.bgColor} ${statusInfo.textColor} text-xs rounded-full">
                            ${statusInfo.icon} ${statusInfo.label}
                        </span>
                    </td>
                    <td class="py-4 px-6 text-sm font-semibold text-gray-800">${totalValue !== '-' ? '$' + totalValue : '-'}</td>
                    <td class="py-4 px-6">
                        <button onclick="viewDetails('${transaction.id}')" class="text-purple-600 hover:text-purple-800 text-sm">üëÅÔ∏è Xem</button>
                    </td>
                `;

                tbody.appendChild(row);
            });

            updatePagination();
        }

        // Get type information
        function getTypeInfo(type) {
            const types = {
                sell: { icon: 'üí∞', label: 'B√°n', bgColor: 'bg-green-100', textColor: 'text-green-800' },
                buy: { icon: 'üõí', label: 'Mua', bgColor: 'bg-blue-100', textColor: 'text-blue-800' },
                withdraw: { icon: 'üí∏', label: 'R√∫t', bgColor: 'bg-purple-100', textColor: 'text-purple-800' },
                deposit: { icon: 'üí≥', label: 'N·∫°p', bgColor: 'bg-orange-100', textColor: 'text-orange-800' }
            };
            return types[type] || { icon: '‚ùì', label: 'Kh√°c', bgColor: 'bg-gray-100', textColor: 'text-gray-800' };
        }

        // Get status information
        function getStatusInfo(status) {
            const statuses = {
                success: { icon: '‚úÖ', label: 'Th√†nh c√¥ng', bgColor: 'bg-green-100', textColor: 'text-green-800' },
                pending: { icon: '‚è≥', label: 'ƒêang x·ª≠ l√Ω', bgColor: 'bg-yellow-100', textColor: 'text-yellow-800' },
                cancelled: { icon: '‚ùå', label: 'ƒê√£ h·ªßy', bgColor: 'bg-red-100', textColor: 'text-red-800' },
                failed: { icon: '‚ö†Ô∏è', label: 'Th·∫•t b·∫°i', bgColor: 'bg-red-100', textColor: 'text-red-800' }
            };
            return statuses[status] || { icon: '‚ùì', label: 'Kh√¥ng x√°c ƒë·ªãnh', bgColor: 'bg-gray-100', textColor: 'text-gray-800' };
        }

        // Format date
        function formatDate(dateString) {
            const date = new Date(dateString);
            return date.toLocaleDateString('vi-VN') + ' ' + date.toLocaleTimeString('vi-VN', {hour: '2-digit', minute: '2-digit'});
        }

        // Filter transactions
        function filterTransactions() {
            const dateFilter = document.getElementById('date-filter').value;
            const typeFilter = document.getElementById('type-filter').value;
            const statusFilter = document.getElementById('status-filter').value;

            filteredTransactions = allTransactions.filter(transaction => {
                // Date filter
                if (dateFilter !== 'all') {
                    const transactionDate = new Date(transaction.date);
                    const now = new Date();
                    let dateMatch = false;

                    switch (dateFilter) {
                        case 'today':
                            dateMatch = transactionDate.toDateString() === now.toDateString();
                            break;
                        case 'week':
                            const weekAgo = new Date(now.getTime() - 7 * 24 * 60 * 60 * 1000);
                            dateMatch = transactionDate >= weekAgo;
                            break;
                        case 'month':
                            const monthAgo = new Date(now.getTime() - 30 * 24 * 60 * 60 * 1000);
                            dateMatch = transactionDate >= monthAgo;
                            break;
                        case 'quarter':
                            const quarterAgo = new Date(now.getTime() - 90 * 24 * 60 * 60 * 1000);
                            dateMatch = transactionDate >= quarterAgo;
                            break;
                        case 'year':
                            const yearAgo = new Date(now.getTime() - 365 * 24 * 60 * 60 * 1000);
                            dateMatch = transactionDate >= yearAgo;
                            break;
                    }
                    if (!dateMatch) return false;
                }

                // Type filter
                if (typeFilter !== 'all' && transaction.type !== typeFilter) {
                    return false;
                }

                // Status filter
                if (statusFilter !== 'all' && transaction.status !== statusFilter) {
                    return false;
                }

                return true;
            });

            currentPage = 1;
            renderTransactions();
            updateStats();
            document.getElementById('results-count').textContent = `Hi·ªÉn th·ªã ${filteredTransactions.length} giao d·ªãch`;
        }

        // Reset filters
        function resetFilters() {
            document.getElementById('date-filter').value = 'month';
            document.getElementById('type-filter').value = 'all';
            document.getElementById('status-filter').value = 'all';
            filterTransactions();
        }

        // Update statistics
        function updateStats() {
            const successTransactions = filteredTransactions.filter(t => t.status === 'success');
            
            const totalRevenue = successTransactions
                .filter(t => t.type === 'sell')
                .reduce((sum, t) => sum + (t.amount * t.price), 0);
            
            const totalSold = successTransactions
                .filter(t => t.type === 'sell')
                .reduce((sum, t) => sum + t.amount, 0);
            
            const totalBought = successTransactions
                .filter(t => t.type === 'buy')
                .reduce((sum, t) => sum + t.amount, 0);

            document.getElementById('total-revenue').textContent = '$' + totalRevenue.toFixed(2);
            document.getElementById('total-sold').textContent = totalSold.toFixed(1);
            document.getElementById('total-bought').textContent = totalBought.toFixed(1);
            document.getElementById('total-transactions').textContent = filteredTransactions.length;
        }

        // Update pagination
        function updatePagination() {
            const totalPages = Math.ceil(filteredTransactions.length / itemsPerPage);
            const startIndex = (currentPage - 1) * itemsPerPage + 1;
            const endIndex = Math.min(currentPage * itemsPerPage, filteredTransactions.length);
            
            document.getElementById('pagination-info').textContent = 
                `Hi·ªÉn th·ªã ${startIndex}-${endIndex} trong ${filteredTransactions.length} giao d·ªãch`;
        }

        // Change page
        function changePage(page) {
            const totalPages = Math.ceil(filteredTransactions.length / itemsPerPage);
            if (page >= 1 && page <= totalPages) {
                currentPage = page;
                renderTransactions();
            }
        }

        // Toggle view
        function toggleView(view) {
            const tableContainer = document.getElementById('table-container');
            const chartContainer = document.getElementById('chart-container');
            const tableBtn = document.getElementById('table-view');
            const chartBtn = document.getElementById('chart-view');

            if (view === 'table') {
                tableContainer.classList.remove('hidden');
                chartContainer.classList.add('hidden');
                tableBtn.className = 'px-3 py-1 bg-purple-500 text-white rounded-lg text-sm';
                chartBtn.className = 'px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100';
            } else {
                tableContainer.classList.add('hidden');
                chartContainer.classList.remove('hidden');
                chartBtn.className = 'px-3 py-1 bg-purple-500 text-white rounded-lg text-sm';
                tableBtn.className = 'px-3 py-1 border border-gray-300 rounded-lg text-sm hover:bg-gray-100';
            }
        }

        // View transaction details
        function viewDetails(transactionId) {
            const transaction = allTransactions.find(t => t.id === transactionId);
            if (transaction) {
                showNotification(`üëÅÔ∏è Chi ti·∫øt giao d·ªãch ${transactionId}:\n${transaction.description}`, 'info');
            }
        }

        // Export data
        function exportData() {
            showNotification('üìä ƒêang xu·∫•t d·ªØ li·ªáu Excel...', 'info');
            
            // Simulate export process
            setTimeout(() => {
                showNotification('‚úÖ ƒê√£ xu·∫•t th√†nh c√¥ng file "giao-dich-carbon.xlsx"', 'success');
            }, 2000);
        }

        // Notification system
        function showNotification(message, type) {
            const notification = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-purple-500';
            notification.className = `fixed top-4 right-4 p-4 rounded-lg shadow-lg z-50 ${bgColor} text-white max-w-sm fade-in`;
            notification.style.whiteSpace = 'pre-line';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 4000);
        }

        // Initialize page when DOM is loaded
        document.addEventListener('DOMContentLoaded', initializePage);
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'98dbde68a17afb86',t:'MTc2MDMyNzM4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
